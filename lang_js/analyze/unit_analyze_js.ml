open Common

module Ast = Ast_js

open OUnit

(*****************************************************************************)
(* Prelude *)
(*****************************************************************************)

(*****************************************************************************)
(* Unit tests *)
(*****************************************************************************)

(*---------------------------------------------------------------------------*)
(* Annotations *)
(*---------------------------------------------------------------------------*)
let annotation_unittest =
  "annotation_js" >::: [
    "commonjs annotations" >:: (fun () ->
      raise Todo
    );
  ]

(*---------------------------------------------------------------------------*)
(* Tags *)
(*---------------------------------------------------------------------------*)

let tags_unittest =
    "tags_js" >::: [
      "XXX basic tags" >:: (fun () ->
        let file_content = "
function foo() { }
" in
        let tmpfile = Parse_js.tmp_file_from_string file_content in
        let _tags = Tags_js.tags_of_files_or_dirs [tmpfile] in
        raise Todo
      );

      "commonjs tags support" >:: (fun () ->
        raise Todo
      );

    ]

(*---------------------------------------------------------------------------*)
(* Final suite *)
(*---------------------------------------------------------------------------*)

let unittest =
  "analyze_js" >::: [
    annotation_unittest;
    tags_unittest;
  ]
